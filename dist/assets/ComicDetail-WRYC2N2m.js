import{j as e}from"./components-DKWQ2sH2.js";import{r as n,i as I,b as x,P as u,S as U,C as p,D as b,j as C,M as A,k as L,F as V,U as $}from"./icons-BrV6DUKz.js";import"./react-vendor-DavUf6mE.js";const R=({comic:s,allComics:N,onBack:j,onView:c,onViewSeries:o,onViewStorageLocation:v,onViewCoverArtist:f,onViewTag:y,onViewRawComics:w,onViewSlabbedComics:S})=>{const[k,P]=n.useState(!1),[m,h]=n.useState(!0),g=s.coverImageUrl&&s.coverImageUrl.trim()!=="";n.useEffect(()=>{window.scrollTo(0,0)},[]);const t=r=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(r),l=r=>new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),z=()=>{h(!1)},D=()=>{P(!0),h(!1)},a=N.filter(r=>r.id!==s.id&&r.seriesName===s.seriesName).sort((r,d)=>r.issueNumber-d.issueNumber),i=a.filter(r=>Math.abs(r.issueNumber-s.issueNumber)<=5);return e.jsxs("div",{className:"min-h-screen bg-gray-900",children:[e.jsx("div",{className:"bg-gray-800 shadow-lg border-b border-gray-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex items-center justify-between h-16",children:e.jsxs("button",{onClick:j,className:"flex items-center space-x-2 text-gray-300 hover:text-white transition-colors",children:[e.jsx(I,{size:20}),e.jsx("span",{children:"Back to Collection"})]})})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 p-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("div",{className:"relative aspect-[2/3] w-48 bg-gray-700 rounded-lg overflow-hidden shadow-xl border border-gray-600",children:[g&&m&&e.jsx("div",{className:"absolute inset-0 bg-gray-700 animate-pulse flex items-center justify-center",children:e.jsx("div",{className:"w-6 h-6 border-4 border-gray-600 border-t-blue-400 rounded-full animate-spin"})}),g&&!k?e.jsx("img",{src:s.coverImageUrl,alt:`${s.seriesName} #${s.issueNumber}`,className:`w-full h-full object-cover transition-opacity duration-300 ${m?"opacity-0":"opacity-100"}`,onLoad:z,onError:D}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-700 to-gray-800 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-400",children:[e.jsx(x,{size:32,className:"mx-auto mb-2"}),e.jsx("p",{className:"text-xs font-medium",children:"No Cover"})]})}),e.jsxs("div",{className:"absolute top-2 left-2 flex flex-col space-y-2",children:[s.isSlabbed&&e.jsx("span",{className:"px-1.5 py-0.5 bg-purple-500 text-white text-xs font-medium rounded shadow-lg backdrop-blur-sm",children:"Slabbed"}),s.signedBy&&e.jsxs("span",{className:"px-1.5 py-0.5 bg-rose-500 text-white text-xs font-medium rounded flex items-center shadow-lg backdrop-blur-sm",children:[e.jsx(u,{size:8,className:"mr-1"}),"Signed"]})]})]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-3xl font-bold text-white",children:["#",s.issueNumber]}),e.jsx("h2",{className:"text-xl text-gray-300 hover:text-blue-400 cursor-pointer transition-colors",onClick:()=>o?.(s.seriesName),children:s.seriesName}),s.title&&s.title!==s.seriesName&&e.jsx("h3",{className:"text-lg text-gray-400",children:s.title})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white border-b border-gray-600 pb-2",children:"Grade & Status"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{size:20,className:"text-amber-400"}),e.jsx("span",{className:"text-lg font-bold text-white",children:s.grade})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:`inline-block px-3 py-1 text-sm font-medium rounded ${s.isSlabbed?"bg-purple-500/20 text-purple-300 border border-purple-500/30 cursor-pointer hover:bg-purple-500/30":"bg-gray-600/30 text-gray-300 border border-gray-600/50 cursor-pointer hover:bg-gray-600/50"} transition-colors`,onClick:()=>{s.isSlabbed?S?.():w?.()},children:s.isSlabbed?"Slabbed":"Raw"}),s.isVariant&&e.jsx("span",{className:"inline-block px-3 py-1 bg-orange-500/20 text-orange-300 text-sm font-medium rounded border border-orange-500/30",children:"Variant Cover"}),s.isGraphicNovel&&e.jsx("span",{className:"inline-block px-3 py-1 bg-emerald-500/20 text-emerald-300 text-sm font-medium rounded border border-emerald-500/30",children:"Graphic Novel"})]}),s.signedBy&&e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(u,{size:16,className:"text-rose-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Signed By:"}),e.jsx("p",{className:"text-white font-medium",children:s.signedBy})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white border-b border-gray-600 pb-2",children:"Dates & Pricing"}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(p,{size:16,className:"text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Release Date"}),e.jsx("p",{className:"text-white font-medium",children:l(s.releaseDate)})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(b,{size:16,className:"text-green-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Purchased Price"}),e.jsx("p",{className:"text-white font-medium text-lg",children:t(s.purchasePrice)})]})]}),s.currentValue&&e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(b,{size:16,className:"text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Current Value"}),e.jsx("p",{className:"text-white font-medium text-lg",children:t(s.currentValue)}),s.currentValue!==s.purchasePrice&&e.jsxs("p",{className:`text-xs font-medium ${s.currentValue>s.purchasePrice?"text-green-400":"text-red-400"}`,children:[s.currentValue>s.purchasePrice?"+":"",t(s.currentValue-s.purchasePrice),s.purchasePrice>0&&` (${((s.currentValue-s.purchasePrice)/s.purchasePrice*100).toFixed(1)}%)`]})]})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(p,{size:16,className:"text-blue-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Purchase Date"}),e.jsx("p",{className:"text-white font-medium",children:l(s.purchaseDate)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white border-b border-gray-600 pb-2",children:"Details & Storage"}),s.coverArtist&&e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(C,{size:16,className:"text-purple-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Cover Artist"}),e.jsx("p",{className:"text-white font-medium hover:text-blue-400 cursor-pointer transition-colors",onClick:()=>f?.(s.coverArtist),children:s.coverArtist})]})]}),s.storageLocation&&e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(A,{size:16,className:"text-orange-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Virtual Box"}),e.jsx("p",{className:"text-white font-medium hover:text-blue-400 cursor-pointer transition-colors",onClick:()=>v?.(s.storageLocation),children:s.storageLocation})]})]})]})]}),s.tags.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(L,{size:16,className:"text-blue-400"}),e.jsx("span",{className:"text-sm text-gray-400",children:"Tags"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map(r=>e.jsx("span",{className:"px-3 py-1 bg-blue-500/20 text-blue-300 text-sm rounded border border-blue-500/30 cursor-pointer hover:bg-blue-500/30 transition-colors",onClick:()=>y?.(r),children:r},r))})]}),s.notes&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(V,{size:16,className:"text-green-400"}),e.jsx("span",{className:"text-sm text-gray-400",children:"Notes"})]}),e.jsx("div",{className:"bg-gray-700/50 rounded-lg p-4 border border-gray-600",children:e.jsx("p",{className:"text-gray-300 text-sm leading-relaxed whitespace-pre-wrap",children:s.notes})})]})]})]})}),e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[e.jsx($,{size:20,className:"mr-2 text-gray-400"}),"Record Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 mb-1",children:"Added to Collection"}),e.jsx("p",{className:"text-white",children:l(s.createdAt)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 mb-1",children:"Last Updated"}),e.jsx("p",{className:"text-white",children:l(s.updatedAt)})]})]})]}),a.length>0&&e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center hover:text-blue-400 cursor-pointer transition-colors",onClick:()=>o?.(s.seriesName),children:[e.jsx(x,{size:20,className:"mr-2 text-yellow-400"}),"Related Issues from ",s.seriesName]}),i.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-md font-medium text-gray-300 mb-3",children:"Consecutive Issues"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:i.map(r=>e.jsxs("div",{onClick:()=>c(r),className:"bg-gray-700/50 rounded-lg p-3 border border-gray-600 hover:border-blue-500 transition-all cursor-pointer group",children:[e.jsx("div",{className:"aspect-[2/3] bg-gray-600 rounded mb-2 overflow-hidden",children:r.coverImageUrl?e.jsx("img",{src:r.coverImageUrl,alt:`${r.seriesName} #${r.issueNumber}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(x,{size:24,className:"text-gray-500"})})}),e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-sm font-medium text-white",children:["#",r.issueNumber]}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Grade: ",r.grade]}),e.jsx("p",{className:"text-xs text-green-400",children:t(r.purchasePrice)})]})]},r.id))})]}),a.length>i.length&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-md font-medium text-gray-300 mb-3",children:["All Issues in Collection (",a.length," total)"]}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-3",children:a.map(r=>e.jsxs("div",{onClick:()=>c(r),className:`bg-gray-700/50 rounded-lg p-2 border transition-all cursor-pointer text-center ${i.some(d=>d.id===r.id)?"border-blue-500/50 bg-blue-500/10":"border-gray-600 hover:border-gray-500"}`,children:[e.jsxs("p",{className:"text-sm font-medium text-white",children:["#",r.issueNumber]}),e.jsx("p",{className:"text-xs text-gray-400",children:r.grade})]},r.id))})]})]})]})})]})};export{R as ComicDetail};
