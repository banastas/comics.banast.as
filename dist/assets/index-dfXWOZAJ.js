const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ComicForm-DrpRuMge.js","assets/components-BQdbmStv.js","assets/icons-Bf2zPGvD.js","assets/react-vendor-D3F3s8fL.js","assets/ComicDetail-CNJeJ1tK.js","assets/SeriesDetail-C5Ef5CdA.js","assets/StorageLocationDetail-DfCG-cMr.js","assets/StorageLocationsListing-BsgEz3nu.js","assets/CoverArtistDetail-BbMQVtxh.js","assets/TagDetail-hAbkfDOI.js","assets/RawComicsDetail-BlQwf4bX.js","assets/SlabbedComicsDetail-BROeVRo7.js","assets/VariantsDetail-BDDgVo8M.js","assets/CsvConverter-BG01fIBY.js"])))=>i.map(i=>d[i]);
import{j as e,D as te,C as he,a as fe}from"./components-BQdbmStv.js";import{R as o,r as a,B as se,F as re,c as oe,d as pe,G as be,L as ge,e as we,f as ve,g as je}from"./icons-Bf2zPGvD.js";import{a as ye}from"./react-vendor-D3F3s8fL.js";import{u as Se}from"./utils-XbOI1L-3.js";import"./data-OixKtRaR.js";(function(){const _=document.createElement("link").relList;if(_&&_.supports&&_.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))L(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&L(c)}).observe(document,{childList:!0,subtree:!0});function C(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function L(i){if(i.ep)return;i.ep=!0;const l=C(i);fetch(i.href,l)}})();var B={},ie;function Ce(){if(ie)return B;ie=1;var s=ye();return B.createRoot=s.createRoot,B.hydrateRoot=s.hydrateRoot,B}var Ve=Ce();const Ne="modulepreload",_e=function(s){return"/"+s},le={},y=function(_,C,L){let i=Promise.resolve();if(C&&C.length>0){let T=function(d){return Promise.all(d.map(E=>Promise.resolve(E).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),v=c?.nonce||c?.getAttribute("nonce");i=T(C.map(d=>{if(d=_e(d),d in le)return;le[d]=!0;const E=d.endsWith(".css"),A=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${A}`))return;const S=document.createElement("link");if(S.rel=E?"stylesheet":Ne,E||(S.as="script"),S.crossOrigin="",S.href=d,v&&S.setAttribute("nonce",v),document.head.appendChild(S),E)return new Promise((V,D)=>{S.addEventListener("load",V),S.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${d}`)))})}))}function l(c){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=c,window.dispatchEvent(v),!v.defaultPrevented)throw c}return i.then(c=>{for(const v of c||[])v.status==="rejected"&&l(v.reason);return _().catch(l)})},Ee=o.lazy(()=>y(()=>import("./ComicForm-DrpRuMge.js"),__vite__mapDeps([0,1,2,3])).then(s=>({default:s.ComicForm}))),Ae=o.lazy(()=>y(()=>import("./ComicDetail-CNJeJ1tK.js"),__vite__mapDeps([4,1,2,3])).then(s=>({default:s.ComicDetail}))),Le=o.lazy(()=>y(()=>import("./SeriesDetail-C5Ef5CdA.js"),__vite__mapDeps([5,1,2,3])).then(s=>({default:s.SeriesDetail}))),De=o.lazy(()=>y(()=>import("./StorageLocationDetail-DfCG-cMr.js"),__vite__mapDeps([6,1,2,3])).then(s=>({default:s.StorageLocationDetail}))),ke=o.lazy(()=>y(()=>import("./StorageLocationsListing-BsgEz3nu.js"),__vite__mapDeps([7,1,2,3])).then(s=>({default:s.StorageLocationsListing}))),Re=o.lazy(()=>y(()=>import("./CoverArtistDetail-BbMQVtxh.js"),__vite__mapDeps([8,1,2,3])).then(s=>({default:s.CoverArtistDetail}))),Pe=o.lazy(()=>y(()=>import("./TagDetail-hAbkfDOI.js"),__vite__mapDeps([9,1,2,3])).then(s=>({default:s.TagDetail}))),Be=o.lazy(()=>y(()=>import("./RawComicsDetail-BlQwf4bX.js"),__vite__mapDeps([10,1,2,3])).then(s=>({default:s.RawComicsDetail}))),Te=o.lazy(()=>y(()=>import("./SlabbedComicsDetail-BROeVRo7.js"),__vite__mapDeps([11,1,2,3])).then(s=>({default:s.SlabbedComicsDetail}))),ze=o.lazy(()=>y(()=>import("./VariantsDetail-BDDgVo8M.js"),__vite__mapDeps([12,1,2,3])).then(s=>({default:s.VariantsDetail}))),Oe=o.lazy(()=>y(()=>import("./CsvConverter-BG01fIBY.js"),__vite__mapDeps([13,1,2,3])).then(s=>({default:s.CsvConverter}))),w=()=>e.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-blue-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-300",children:"Loading..."})]})});function Ie(){const{comics:s,allComics:_,stats:C,filters:L,sortField:i,sortDirection:l,loading:c,addComic:v,updateComic:T,setFilters:d,setSortField:E,setSortDirection:A}=Se(),[S,V]=a.useState(!1),[D,k]=a.useState(void 0),[R,Y]=a.useState("collection"),[H,u]=a.useState(void 0),[z,m]=a.useState(null),[O,x]=a.useState(null),[I,h]=a.useState(null),[F,f]=a.useState(null),[$,p]=a.useState(null),[q,J]=a.useState("grid"),[ne,b]=a.useState(!1),[ae,P]=a.useState(!1),n=Array.isArray(_)?_:[],M=Array.isArray(s)?s:[],ce=Array.from(new Set(n.map(t=>t?.seriesName).filter(Boolean))).sort(),U=Array.from(new Set(n.map(t=>t?.storageLocation).filter(Boolean))).sort(),Q=n.filter(t=>t?.isVariant).length;a.useEffect(()=>{const t=r=>{if(r.state){const{type:me,data:xe}=r.state;switch(me){case"virtual-box":x(xe),u(void 0),m(null),h(null),f(null),p(null),b(!1);break;case"virtual-boxes":b(!0),x(null),u(void 0),m(null),h(null),f(null),p(null);break;case"collection":default:j();break}}};return window.addEventListener("popstate",t),()=>window.removeEventListener("popstate",t)},[]);const de=t=>{D?T(D.id,t):v(t),V(!1),k(void 0)},g=t=>{u(t),m(null),x(null),h(null),f(null),p(null),b(!1)},j=()=>{u(void 0),m(null),x(null),h(null),f(null),p(null),b(!1),P(!1),window.history.pushState({type:"collection"},"",window.location.pathname)},N=t=>{m(t),u(void 0),x(null),h(null),f(null),p(null),b(!1)},G=t=>{x(t),u(void 0),m(null),h(null),f(null),p(null),b(!1);const r=encodeURIComponent(t);window.history.pushState({type:"virtual-box",data:t},"",`${window.location.pathname}#virtual-box/${r}`)},X=t=>{h(t),u(void 0),m(null),x(null),f(null),p(null),b(!1)},ue=t=>{f(t),u(void 0),m(null),x(null),h(null),p(null),b(!1)},W=()=>{p("raw"),u(void 0),m(null),x(null),h(null),f(null),b(!1)},K=()=>{p("slabbed"),u(void 0),m(null),x(null),h(null),f(null),b(!1)},Z=()=>{p("variants"),u(void 0),m(null),x(null),h(null),f(null),b(!1)},ee=()=>{b(!0),u(void 0),m(null),x(null),h(null),f(null),p(null),P(!1),window.history.pushState({type:"virtual-boxes"},"",`${window.location.pathname}#virtual-boxes`)};if(c)return e.jsx(w,{});if(ae)return e.jsx(o.Suspense,{fallback:e.jsx(w,{}),children:e.jsx(Oe,{onBack:j})});if(ne)return e.jsx(o.Suspense,{fallback:e.jsx(w,{}),children:e.jsx(ke,{allComics:n,onBack:j,onViewStorageLocation:G})});if(H)return e.jsx(o.Suspense,{fallback:e.jsx(w,{}),children:e.jsx(Ae,{comic:H,allComics:n,onBack:j,onView:g,onViewSeries:N,onViewStorageLocation:G,onViewCoverArtist:X,onViewTag:ue,onViewRawComics:W,onViewSlabbedComics:K})});if(z){const t=n.filter(r=>r.seriesName===z);return e.jsx(o.Suspense,{fallback:e.jsx(w,{}),children:e.jsx(Le,{seriesName:z||"",seriesComics:t,onBack:j,onView:g})})}if(O){const t=n.filter(r=>r.storageLocation===O);return e.jsx(o.Suspense,{fallback:e.jsx(w,{}),children:e.jsx(De,{storageLocation:O||"",locationComics:t,onBack:j,onView:g,onViewSeries:N})})}if(I){const t=n.filter(r=>r.coverArtist===I);return e.jsx(o.Suspense,{fallback:e.jsx(w,{}),children:e.jsx(Re,{coverArtist:I||"",artistComics:t,onBack:j,onView:g,onViewSeries:N})})}if(F){const t=n.filter(r=>r.tags&&Array.isArray(r.tags)&&r.tags.includes(F));return e.jsx(o.Suspense,{fallback:e.jsx(w,{}),children:e.jsx(Pe,{tag:F||"",tagComics:t,onBack:j,onView:g,onViewSeries:N})})}if($==="raw"){const t=n.filter(r=>!r.isSlabbed);return e.jsx(o.Suspense,{fallback:e.jsx(w,{}),children:e.jsx(Be,{rawComics:t,onBack:j,onView:g,onViewSeries:N})})}if($==="slabbed"){const t=n.filter(r=>r.isSlabbed);return e.jsx(o.Suspense,{fallback:e.jsx(w,{}),children:e.jsx(Te,{slabbedComics:t,onBack:j,onView:g,onViewSeries:N})})}if($==="variants"){const t=n.filter(r=>r.isVariant);return e.jsx(o.Suspense,{fallback:e.jsx(w,{}),children:e.jsx(ze,{variantComics:t,onBack:j,onView:g,onViewSeries:N})})}return e.jsxs("div",{className:"min-h-screen bg-gray-900",children:[e.jsx("header",{className:"bg-gray-800 shadow-lg border-b border-gray-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between py-4 space-y-3 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center justify-between sm:justify-start",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(se,{size:32,className:"text-blue-400"}),e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-white",children:"Comic Collection"})]}),e.jsxs("div",{className:"flex items-center space-x-2 sm:hidden",children:[e.jsx("button",{onClick:()=>P(!0),className:"p-2 text-gray-300 hover:text-white transition-colors",title:"CSV Converter",children:e.jsx(re,{size:20})}),e.jsx("button",{onClick:()=>V(!0),className:"p-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",title:"Add Comic",children:e.jsx(oe,{size:20})})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"relative flex-1 sm:flex-initial",children:[e.jsx(pe,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search comics...",value:L?.searchTerm||"",onChange:t=>d({searchTerm:t.target.value}),className:"w-full sm:w-64 bg-gray-700 border border-gray-600 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"hidden sm:flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>P(!0),className:"p-2 border border-gray-600 rounded-lg hover:bg-gray-700 transition-colors text-gray-300",title:"CSV Converter",children:e.jsx(re,{size:20})}),e.jsxs("button",{onClick:()=>V(!0),className:"flex items-center space-x-2 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:[e.jsx(oe,{size:20}),e.jsx("span",{children:"Add Comic"})]})]}),R==="collection"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[e.jsxs("div",{className:"flex border border-gray-600 rounded-lg overflow-hidden",children:[e.jsx("button",{onClick:()=>J("grid"),className:`p-1.5 sm:p-2 transition-colors ${q==="grid"?"bg-blue-500 text-white":"text-gray-300 hover:text-white"}`,children:e.jsx(be,{size:16})}),e.jsx("button",{onClick:()=>J("list"),className:`p-1.5 sm:p-2 rounded-r-lg transition-colors ${q==="list"?"bg-blue-500 text-white":"text-gray-300 hover:text-white"}`,children:e.jsx(ge,{size:16})})]}),e.jsxs("select",{value:i,onChange:t=>E(t.target.value),className:"bg-gray-700 border border-gray-600 rounded-lg px-2 sm:px-3 py-2 text-xs sm:text-sm text-white",children:[e.jsx("option",{value:"title",children:"Sort by Title"}),e.jsx("option",{value:"seriesName",children:"Sort by Series"}),e.jsx("option",{value:"issueNumber",children:"Sort by Issue #"}),e.jsx("option",{value:"releaseDate",children:"Sort by Release Date"}),e.jsx("option",{value:"grade",children:"Sort by Grade"}),e.jsx("option",{value:"purchasePrice",children:"Sort by Purchase Price"}),e.jsx("option",{value:"currentValue",children:"Sort by Current Value"}),e.jsx("option",{value:"purchaseDate",children:"Sort by Purchase Date"})]}),e.jsx("button",{onClick:()=>A(l==="asc"?"desc":"asc"),className:"p-1.5 sm:p-2 border border-gray-600 rounded-lg hover:bg-gray-700 transition-colors text-gray-300",children:l==="asc"?e.jsx(we,{size:14,className:"sm:w-4 sm:h-4"}):e.jsx(ve,{size:14,className:"sm:w-4 sm:h-4"})})]})})]})]})})}),e.jsx("div",{className:"bg-gray-800 border-b border-gray-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8",children:e.jsxs("nav",{className:"flex space-x-4 sm:space-x-8 overflow-x-auto",children:[e.jsxs("button",{onClick:()=>Y("collection"),className:`py-4 px-1 border-b-2 font-medium text-sm ${R==="collection"?"border-blue-500 text-blue-400":"border-transparent text-gray-300 hover:text-white hover:border-gray-300"} transition-colors whitespace-nowrap`,children:["Collection (",n.length,")"]}),e.jsxs("button",{onClick:()=>Y("stats"),className:`py-4 px-1 border-b-2 font-medium text-sm ${R==="stats"?"border-blue-500 text-blue-400":"border-transparent text-gray-300 hover:text-white hover:border-gray-300"} transition-colors whitespace-nowrap flex items-center space-x-1`,children:[e.jsx(je,{size:16}),e.jsx("span",{children:"Statistics"})]})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 py-6 sm:py-8",children:C&&(R==="stats"?e.jsx(te,{stats:C,showDetailed:!0,onViewComic:g,onViewRawComics:W,onViewSlabbedComics:K,onViewVariants:Z,onViewVirtualBoxes:ee,virtualBoxesCount:U.length,variantsCount:Q}):e.jsxs(e.Fragment,{children:[e.jsx(te,{stats:C,showDetailed:!1,onViewComic:g,onViewRawComics:W,onViewSlabbedComics:K,onViewVariants:Z,onViewVirtualBoxes:ee,virtualBoxesCount:U.length,variantsCount:Q}),q==="grid"?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-3 sm:gap-4 md:gap-6",children:M.map(t=>e.jsx(he,{comic:t,onView:g,onEdit:r=>{k(r),V(!0)},onViewSeries:N},t.id))}):e.jsx(fe,{comics:M,onView:g,onEdit:t=>{k(t),V(!0)},onViewSeries:N,onViewStorageLocation:G,onViewCoverArtist:X}),M.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(se,{size:48,className:"mx-auto text-gray-500 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No comics found"}),e.jsx("p",{className:"text-gray-400 mb-4",children:n.length===0?"Start building your collection by adding your first comic!":"Try adjusting your search or filters to find what you're looking for."}),n.length===0&&e.jsx("button",{onClick:()=>V(!0),className:"bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-600 transition-colors",children:"Add Your First Comic"})]})]}))}),S&&e.jsx(o.Suspense,{fallback:e.jsx(w,{}),children:e.jsx(Ee,{comic:D,onSave:de,onClose:()=>{V(!1),k(void 0)},allSeries:ce,allVirtualBoxes:U})})]})}Ve.createRoot(document.getElementById("root")).render(e.jsx(a.StrictMode,{children:e.jsx(Ie,{})}));
