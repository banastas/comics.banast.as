const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ComicForm-CY8XXMwe.js","assets/components-DYvSclkW.js","assets/icons-BxkZie2z.js","assets/react-vendor-D3F3s8fL.js","assets/ComicDetail-GuE9Dw0C.js","assets/SeriesDetail-13QL2CV6.js","assets/StorageLocationDetail-BjkWw4FK.js","assets/CoverArtistDetail-D_2ROLZt.js","assets/TagDetail-XyLZmhk2.js","assets/RawComicsDetail-BHXAEwTL.js","assets/SlabbedComicsDetail-B2m4KFUS.js","assets/StorageLocationsListing-BmOqEGl8.js","assets/VariantsDetail-BHmqP7-R.js","assets/CsvConverter-gO6ATdBo.js"])))=>i.map(i=>d[i]);
import{j as e,D as de,C as ge,a as pe}from"./components-DYvSclkW.js";import{r as v,C as fe,c as je,R as u,B as re,d as ve,F as ye,G as we,L as Ne,e as Ve,f as ke,g as De,h as _e}from"./icons-BxkZie2z.js";import{a as Le}from"./react-vendor-D3F3s8fL.js";import{u as Re}from"./utils-D_6U0Ev8.js";import"./data-C_8rB3py.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const y of c.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&l(y)}).observe(document,{childList:!0,subtree:!0});function d(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(a){if(a.ep)return;a.ep=!0;const c=d(a);fetch(a.href,c)}})();var S={},ue;function Ce(){if(ue)return S;ue=1;var r=Le();return S.createRoot=r.createRoot,S.hydrateRoot=r.hydrateRoot,S}var Te=Ce();const Pe="modulepreload",Ee=function(r){return"/"+r},me={},U=function(t,d,l){let a=Promise.resolve();if(d&&d.length>0){let Y=function(w){return Promise.all(w.map(L=>Promise.resolve(L).then(C=>({status:"fulfilled",value:C}),C=>({status:"rejected",reason:C}))))};document.getElementsByTagName("link");const y=document.querySelector("meta[property=csp-nonce]"),k=y?.nonce||y?.getAttribute("nonce");a=Y(d.map(w=>{if(w=Ee(w),w in me)return;me[w]=!0;const L=w.endsWith(".css"),C=L?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${C}`))return;const D=document.createElement("link");if(D.rel=L?"stylesheet":Pe,L||(D.as="script"),D.crossOrigin="",D.href=w,k&&D.setAttribute("nonce",k),document.head.appendChild(D),L)return new Promise((A,m)=>{D.addEventListener("load",A),D.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${w}`)))})}))}function c(y){const k=new Event("vite:preloadError",{cancelable:!0});if(k.payload=y,window.dispatchEvent(k),!k.defaultPrevented)throw y}return a.then(y=>{for(const k of y||[])k.status==="rejected"&&c(k.reason);return t().catch(c)})},Ue=()=>{const r=window.location.hash.slice(1),[t,d]=r.split("?"),l={};if(d){const a=new URLSearchParams(d);a.has("tab")&&(l.tab=a.get("tab")),a.has("view")&&(l.viewMode=a.get("view")),a.has("search")&&(l.searchTerm=a.get("search")||void 0),a.has("sort")&&(l.sortField=a.get("sort")||void 0),a.has("order")&&(l.sortDirection=a.get("order"))}return{route:t||"/",params:l}},Fe=r=>{const t=r.split("/").filter(Boolean),d={};if(t.length===0)return{type:"home",params:d};const[l,...a]=t;switch(l){case"comic":a.length>0&&(d.comicId=decodeURIComponent(a[0]));break;case"series":a.length>0&&(d.seriesName=decodeURIComponent(a[0]));break;case"storage":a.length>0&&(d.storageLocation=decodeURIComponent(a[0]));break;case"artist":a.length>0&&(d.coverArtist=decodeURIComponent(a[0]));break;case"tag":a.length>0&&(d.tag=decodeURIComponent(a[0]));break;case"raw":d.condition="raw";break;case"slabbed":d.condition="slabbed";break;case"variants":d.condition="variants";break;case"boxes":break;case"csv":break;case"collection":case"stats":d.tab=l;break}return{type:l,params:d}},Ie=(r,t=!1)=>{t?window.history.replaceState(null,"",r):window.history.pushState(null,"",r),window.dispatchEvent(new CustomEvent("urlchange",{detail:{url:r}}))},Ae=async r=>{try{return await navigator.clipboard.writeText(r),!0}catch(t){return console.error("Failed to copy URL to clipboard:",t),!1}},ze=()=>window.location.href,Oe=({activeTab:r,selectedComic:t,selectedSeries:d,selectedStorageLocation:l,selectedCoverArtist:a,selectedTag:c,selectedCondition:y,showVirtualBoxes:k,showCsvConverter:Y,viewMode:w,searchTerm:L,sortField:C,sortDirection:D,setActiveTab:A,setSelectedComic:m,setSelectedSeries:g,setSelectedStorageLocation:o,setSelectedCoverArtist:p,setSelectedTag:b,setSelectedCondition:f,setShowVirtualBoxes:h,setShowCsvConverter:j,setViewMode:$,setFilters:H,setSortField:B,setSortDirection:J,allComics:M})=>{const ee=v.useCallback((z,n,N,V=!1)=>{m(void 0),g(null),o(null),p(null),b(null),f(null),h(!1),j(!1);let x="";switch(z){case"home":x="/";break;case"collection":x="/collection";break;case"stats":x="/stats";break;case"comic":x=`/comic/${encodeURIComponent(n||"")}`;break;case"series":x=`/series/${encodeURIComponent(n||"")}`;break;case"storage":x=`/storage/${encodeURIComponent(n||"")}`;break;case"artist":x=`/artist/${encodeURIComponent(n||"")}`;break;case"tag":x=`/tag/${encodeURIComponent(n||"")}`;break;case"raw":x="/raw";break;case"slabbed":x="/slabbed";break;case"variants":x="/variants";break;case"boxes":x="/boxes";break;case"csv":x="/csv";break;default:x="/"}const P=new URLSearchParams;N?.tab&&P.set("tab",N.tab),N?.viewMode&&P.set("view",N.viewMode),N?.searchTerm&&P.set("search",N.searchTerm),N?.sortField&&P.set("sort",N.sortField),N?.sortDirection&&P.set("order",N.sortDirection);const G=P.toString(),q=x+(G?`?${G}`:"");Ie(`#${q}`,V)},[m,g,o,p,b,f,h,j]),T=v.useCallback(()=>{const{route:z,params:n}=Ue(),{type:N,params:V}=Fe(z);switch(n.tab&&n.tab!==r&&A(n.tab),n.viewMode&&n.viewMode!==w&&$(n.viewMode),n.searchTerm!==void 0&&n.searchTerm!==L&&H({searchTerm:n.searchTerm}),n.sortField&&n.sortField!==C&&B(n.sortField),n.sortDirection&&n.sortDirection!==D&&J(n.sortDirection),N){case"home":case"collection":m(void 0),g(null),o(null),p(null),b(null),f(null),h(!1),j(!1);break;case"stats":A("stats"),m(void 0),g(null),o(null),p(null),b(null),f(null),h(!1),j(!1);break;case"comic":if(V.comicId){const x=M.find(P=>P.id===V.comicId);x&&(m(x),g(null),o(null),p(null),b(null),f(null),h(!1),j(!1))}break;case"series":V.seriesName&&(g(V.seriesName),m(void 0),o(null),p(null),b(null),f(null),h(!1),j(!1));break;case"storage":V.storageLocation&&(o(V.storageLocation),m(void 0),g(null),p(null),b(null),f(null),h(!1),j(!1));break;case"artist":V.coverArtist&&(p(V.coverArtist),m(void 0),g(null),o(null),b(null),f(null),h(!1),j(!1));break;case"tag":V.tag&&(b(V.tag),m(void 0),g(null),o(null),p(null),f(null),h(!1),j(!1));break;case"raw":f("raw"),m(void 0),g(null),o(null),p(null),b(null),h(!1),j(!1);break;case"slabbed":f("slabbed"),m(void 0),g(null),o(null),p(null),b(null),h(!1),j(!1);break;case"variants":f("variants"),m(void 0),g(null),o(null),p(null),b(null),h(!1),j(!1);break;case"boxes":h(!0),m(void 0),g(null),o(null),p(null),b(null),f(null),j(!1);break;case"csv":j(!0),m(void 0),g(null),o(null),p(null),b(null),f(null),h(!1);break}},[r,w,L,C,D,M,A,$,H,B,J,m,g,o,p,b,f,h,j]);return v.useEffect(()=>{T();const z=()=>{T()},n=()=>{T()};return window.addEventListener("popstate",z),window.addEventListener("urlchange",n),()=>{window.removeEventListener("popstate",z),window.removeEventListener("urlchange",n)}},[T]),{navigateToRoute:ee}},$e=({className:r="",title:t="Share URL",size:d=16})=>{const[l,a]=v.useState(!1),c=async()=>{const y=ze();await Ae(y)&&(a(!0),setTimeout(()=>a(!1),2e3))};return e.jsx("button",{onClick:c,className:`p-2 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg transition-colors ${r}`,title:t,children:l?e.jsx(fe,{size:d,className:"text-green-400"}):e.jsx(je,{size:d})})},Be=u.lazy(()=>U(()=>import("./ComicForm-CY8XXMwe.js"),__vite__mapDeps([0,1,2,3])).then(r=>({default:r.ComicForm}))),Me=u.lazy(()=>U(()=>import("./ComicDetail-GuE9Dw0C.js"),__vite__mapDeps([4,1,2,3])).then(r=>({default:r.ComicDetail}))),qe=u.lazy(()=>U(()=>import("./SeriesDetail-13QL2CV6.js"),__vite__mapDeps([5,1,2,3])).then(r=>({default:r.SeriesDetail}))),We=u.lazy(()=>U(()=>import("./StorageLocationDetail-BjkWw4FK.js"),__vite__mapDeps([6,1,2,3])).then(r=>({default:r.StorageLocationDetail}))),Ge=u.lazy(()=>U(()=>import("./CoverArtistDetail-D_2ROLZt.js"),__vite__mapDeps([7,1,2,3])).then(r=>({default:r.CoverArtistDetail}))),Ke=u.lazy(()=>U(()=>import("./TagDetail-XyLZmhk2.js"),__vite__mapDeps([8,1,2,3])).then(r=>({default:r.TagDetail}))),Ye=u.lazy(()=>U(()=>import("./RawComicsDetail-BHXAEwTL.js"),__vite__mapDeps([9,1,2,3])).then(r=>({default:r.RawComicsDetail}))),He=u.lazy(()=>U(()=>import("./SlabbedComicsDetail-B2m4KFUS.js"),__vite__mapDeps([10,1,2,3])).then(r=>({default:r.SlabbedComicsDetail}))),Je=u.lazy(()=>U(()=>import("./StorageLocationsListing-BmOqEGl8.js"),__vite__mapDeps([11,1,2,3])).then(r=>({default:r.StorageLocationsListing}))),Qe=u.lazy(()=>U(()=>import("./VariantsDetail-BHmqP7-R.js"),__vite__mapDeps([12,1,2,3])).then(r=>({default:r.VariantsDetail}))),Xe=u.lazy(()=>U(()=>import("./CsvConverter-gO6ATdBo.js"),__vite__mapDeps([13,1,2,3])).then(r=>({default:r.CsvConverter}))),E=()=>e.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-blue-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-300",children:"Loading..."})]})});function Ze(){const{comics:r,allComics:t,stats:d,filters:l,sortField:a,sortDirection:c,loading:y,addComic:k,updateComic:Y,setFilters:w,setSortField:L,setSortDirection:C}=Re(),[D,A]=v.useState(!1),[m,g]=v.useState(void 0),[o,p]=v.useState("collection"),[b,f]=v.useState(void 0),[h,j]=v.useState(null),[$,H]=v.useState(null),[B,J]=v.useState(null),[M,ee]=v.useState(null),[T,z]=v.useState(null),[n,N]=v.useState("grid"),[V,x]=v.useState(!1),[P,G]=v.useState(!1),q=Array.from(new Set(t.map(s=>s.seriesName))).sort(),K=Array.from(new Set(t.map(s=>s.storageLocation).filter(Boolean))).sort(),te=t.filter(s=>s.isVariant).length,{navigateToRoute:R}=Oe({activeTab:o,selectedComic:b,selectedSeries:h,selectedStorageLocation:$,selectedCoverArtist:B,selectedTag:M,selectedCondition:T,showVirtualBoxes:V,showCsvConverter:P,viewMode:n,searchTerm:l.searchTerm,sortField:a,sortDirection:c,setActiveTab:p,setSelectedComic:f,setSelectedSeries:j,setSelectedStorageLocation:H,setSelectedCoverArtist:J,setSelectedTag:ee,setSelectedCondition:z,setShowVirtualBoxes:x,setShowCsvConverter:G,setViewMode:N,setFilters:w,setSortField:L,setSortDirection:C,allComics:t}),he=s=>{m?Y(m.id,s):k(s),A(!1),g(void 0)},_=s=>{R("comic",s.id,{tab:o,viewMode:n,searchTerm:l.searchTerm,sortField:a,sortDirection:c})},F=()=>{R("collection",void 0,{tab:o,viewMode:n,searchTerm:l.searchTerm,sortField:a,sortDirection:c})},I=s=>{R("series",s,{tab:o,viewMode:n,searchTerm:l.searchTerm,sortField:a,sortDirection:c})},se=s=>{R("storage",s,{tab:o,viewMode:n,searchTerm:l.searchTerm,sortField:a,sortDirection:c})},xe=s=>{R("artist",s,{tab:o,viewMode:n,searchTerm:l.searchTerm,sortField:a,sortDirection:c})},ne=s=>{R("tag",s,{tab:o,viewMode:n,searchTerm:l.searchTerm,sortField:a,sortDirection:c})},Q=()=>{R("raw",void 0,{tab:o,viewMode:n,searchTerm:l.searchTerm,sortField:a,sortDirection:c})},X=()=>{R("slabbed",void 0,{tab:o,viewMode:n,searchTerm:l.searchTerm,sortField:a,sortDirection:c})},ie=()=>{R("variants",void 0,{tab:o,viewMode:n,searchTerm:l.searchTerm,sortField:a,sortDirection:c})},oe=()=>{R("boxes",void 0,{tab:o,viewMode:n,searchTerm:l.searchTerm,sortField:a,sortDirection:c})};if(y)return e.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-blue-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-300",children:"Loading your collection..."})]})});if(P)return e.jsx(u.Suspense,{fallback:e.jsx(E,{}),children:e.jsx(Xe,{onBack:F})});if(V)return e.jsx(u.Suspense,{fallback:e.jsx(E,{}),children:e.jsx(Je,{allComics:t,onBack:F,onViewStorageLocation:se})});if(b)return e.jsx(u.Suspense,{fallback:e.jsx(E,{}),children:e.jsx(Me,{comic:b,allComics:t,onBack:F,onView:_,onViewSeries:I,onViewStorageLocation:se,onViewCoverArtist:xe,onViewTag:ne,onViewRawComics:Q,onViewSlabbedComics:X})});if(h){const s=t.filter(i=>i.seriesName===h);return e.jsx(u.Suspense,{fallback:e.jsx(E,{}),children:e.jsx(qe,{seriesName:h||"",seriesComics:s,onBack:F,onView:_})})}if($){const s=t.filter(i=>i.storageLocation===$);return e.jsx(u.Suspense,{fallback:e.jsx(E,{}),children:e.jsx(We,{storageLocation:$||"",locationComics:s,onBack:F,onView:_,onViewSeries:I})})}if(B){const s=t.filter(i=>i.coverArtist===B);return e.jsx(u.Suspense,{fallback:e.jsx(E,{}),children:e.jsx(Ge,{coverArtist:B||"",artistComics:s,onBack:F,onView:_,onViewSeries:I})})}if(M){const s=t.filter(i=>i.tags.includes(M||""));return e.jsx(u.Suspense,{fallback:e.jsx(E,{}),children:e.jsx(Ke,{tag:M||"",tagComics:s,onBack:F,onView:_,onViewSeries:I,onViewTag:ne})})}if(T==="raw"){const s=t.filter(i=>!i.isSlabbed);return e.jsx(u.Suspense,{fallback:e.jsx(E,{}),children:e.jsx(Ye,{rawComics:s,onBack:F,onView:_,onViewSeries:I})})}if(T==="slabbed"){const s=t.filter(i=>i.isSlabbed);return e.jsx(u.Suspense,{fallback:e.jsx(E,{}),children:e.jsx(He,{slabbedComics:s,onBack:F,onView:_,onViewSeries:I})})}if(T==="variants"){const s=t.filter(i=>i.isVariant);return e.jsx(u.Suspense,{fallback:e.jsx(E,{}),children:e.jsx(Qe,{variantComics:s,onBack:F,onView:_,onViewRawComics:Q,onViewSlabbedComics:X,onViewSeries:I})})}return e.jsxs("div",{className:"min-h-screen bg-gray-900",children:[e.jsx("header",{className:"bg-gray-800 shadow-lg border-b border-gray-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg shadow-lg",children:e.jsx(re,{size:24,className:"text-white"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h1",{className:"text-lg sm:text-xl font-bold text-white truncate",children:"comics.banast.as"}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-300",children:[d.totalComics," comics"]})]})]}),o==="collection"&&e.jsx("div",{className:"hidden sm:flex items-center space-x-2 sm:space-x-4 flex-1 max-w-2xl mx-4",children:e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(ve,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search comics...",value:l.searchTerm,onChange:s=>w({...l,searchTerm:s.target.value}),className:"w-full pl-9 pr-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-400 text-sm"})]})}),e.jsxs("div",{className:"hidden sm:flex items-center space-x-2 sm:space-x-4 flex-shrink-0",children:[e.jsx($e,{title:"Copy URL to clipboard"}),o==="collection"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>G(!0),className:"p-2 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg transition-colors",title:"CSV Converter",children:e.jsx(ye,{size:16})}),e.jsxs("div",{className:"flex items-center space-x-2 border border-gray-600 rounded-lg",children:[e.jsx("button",{onClick:()=>N("grid"),className:`p-2 rounded-l-lg transition-colors ${n==="grid"?"bg-blue-500 text-white":"text-gray-300 hover:text-white"}`,children:e.jsx(we,{size:16})}),e.jsx("button",{onClick:()=>N("list"),className:`p-2 rounded-r-lg transition-colors ${n==="list"?"bg-blue-500 text-white":"text-gray-300 hover:text-white"}`,children:e.jsx(Ne,{size:16})})]}),e.jsxs("select",{value:a,onChange:s=>L(s.target.value),className:"bg-gray-700 border border-gray-600 rounded-lg px-2 sm:px-3 py-2 text-xs sm:text-sm text-white",children:[e.jsx("option",{value:"title",children:"Sort by Title"}),e.jsx("option",{value:"seriesName",children:"Sort by Series"}),e.jsx("option",{value:"issueNumber",children:"Sort by Issue #"}),e.jsx("option",{value:"releaseDate",children:"Sort by Release Date"}),e.jsx("option",{value:"grade",children:"Sort by Grade"}),e.jsx("option",{value:"purchasePrice",children:"Sort by Purchase Price"}),e.jsx("option",{value:"currentValue",children:"Sort by Current Value"}),e.jsx("option",{value:"purchaseDate",children:"Sort by Purchase Date"})]}),e.jsx("button",{onClick:()=>C(c==="asc"?"desc":"asc"),className:"p-1.5 sm:p-2 border border-gray-600 rounded-lg hover:bg-gray-700 transition-colors text-gray-300",children:c==="asc"?e.jsx(Ve,{size:14,className:"sm:w-4 sm:h-4"}):e.jsx(ke,{size:14,className:"sm:w-4 sm:h-4"})})]})]})]})})}),e.jsx("div",{className:"bg-gray-800 border-b border-gray-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8",children:e.jsxs("nav",{className:"flex space-x-4 sm:space-x-8 overflow-x-auto",children:[e.jsx("button",{onClick:()=>R("collection",void 0,{tab:"collection",viewMode:n,searchTerm:l.searchTerm,sortField:a,sortDirection:c}),className:`py-4 px-1 border-b-2 font-medium text-sm ${o==="collection"?"border-blue-400 text-blue-400":"border-transparent text-gray-400 hover:text-gray-200 hover:border-gray-600"} transition-colors`,children:e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 whitespace-nowrap",children:[e.jsx(re,{size:16}),e.jsx("span",{children:"Collection"})]})}),e.jsx("button",{onClick:()=>R("stats",void 0,{tab:"stats",viewMode:n,searchTerm:l.searchTerm,sortField:a,sortDirection:c}),className:`py-4 px-1 border-b-2 font-medium text-sm ${o==="stats"?"border-blue-400 text-blue-400":"border-transparent text-gray-400 hover:text-gray-200 hover:border-gray-600"} transition-colors`,children:e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 whitespace-nowrap",children:[e.jsx(De,{size:16}),e.jsx("span",{children:"Statistics"})]})})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 pb-4 sm:pb-6 lg:pb-8",children:[o==="collection"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"pt-4 sm:pt-6 lg:pt-8",children:e.jsx(de,{stats:d,onViewComic:_,onViewRawComics:Q,onViewSlabbedComics:X,onViewVariants:ie,onViewVirtualBoxes:oe,virtualBoxesCount:K.length,variantsCount:te})}),r.length===0?e.jsxs("div",{className:"text-center py-8 sm:py-12",children:[e.jsx(re,{size:48,className:"mx-auto text-gray-500 mb-4"}),e.jsx("h3",{className:"text-base sm:text-lg font-medium text-white mb-2",children:t.length===0?"No comics in your collection":"No comics match your filters"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-400 mb-4 sm:mb-6 px-4",children:t.length===0?"Start building your collection by adding your first comic!":"Try adjusting your search criteria or filters."}),t.length===0&&e.jsxs("button",{onClick:()=>A(!0),className:"flex items-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors mx-auto shadow-lg",children:[e.jsx(_e,{size:20}),e.jsx("span",{children:"Add Your First Comic"})]})]}):e.jsx(e.Fragment,{children:n==="grid"?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 sm:gap-4 lg:gap-6",children:r.map(s=>e.jsx(ge,{comic:s,onView:_},s.id))}):e.jsx(pe,{comics:r,onView:_})})]}),o==="stats"&&e.jsxs("div",{className:"space-y-8 pt-4 sm:pt-6 lg:pt-8",children:[e.jsx(de,{stats:d,showDetailed:o==="stats",onViewComic:_,onViewRawComics:Q,onViewSlabbedComics:X,onViewVariants:ie,onViewVirtualBoxes:oe,virtualBoxesCount:K.length,variantsCount:te,hideSlabbedCard:T==="slabbed",hideRawCard:T==="raw"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.comicsWithCurrentValue>0&&e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Series Performance"}),q.length>0?e.jsx("div",{className:"space-y-3",children:q.map(s=>{const i=t.filter(W=>W.seriesName===s),O=i.filter(W=>W.currentValue!==void 0),Z=O.reduce((W,ae)=>W+ae.purchasePrice,0),le=O.reduce((W,ae)=>W+(ae.currentValue||0),0),ce=le-Z,be=Z>0?ce/Z*100:0;return{name:s,count:i.length,countWithValue:O.length,purchaseValue:Z,currentValue:le,gainLoss:ce,gainLossPercentage:be}}).filter(s=>s.countWithValue>0).sort((s,i)=>Math.abs(i.gainLossPercentage)-Math.abs(s.gainLossPercentage)).slice(0,8).map(s=>e.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-700/50 rounded-lg p-2 transition-colors",onClick:()=>I(s.name),children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:[s.countWithValue," of ",s.count," comics valued"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-white",children:s.currentValue.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0})}),e.jsxs("p",{className:`text-sm font-medium ${s.gainLoss>=0?"text-emerald-400":"text-red-400"}`,children:[s.gainLoss>=0?"+":"",s.gainLoss.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0})," (",s.gainLossPercentage>=0?"+":"",s.gainLossPercentage.toFixed(1),"%)"]})]})]},s.name))}):e.jsx("p",{className:"text-gray-400",children:"No series performance data available"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top Series by Count"}),q.length>0?e.jsx("div",{className:"space-y-3",children:q.map(s=>({name:s,count:t.filter(i=>i.seriesName===s).length,value:t.filter(i=>i.seriesName===s).reduce((i,O)=>i+O.purchasePrice,0)})).sort((s,i)=>i.count-s.count).slice(0,10).map(s=>e.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-700/50 rounded-lg p-2 transition-colors",onClick:()=>I(s.name),children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:[s.count," comics"]})]}),e.jsx("p",{className:"font-semibold text-white",children:s.value.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0})})]},s.name))}):e.jsx("p",{className:"text-gray-400",children:"No series data available"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Additions"}),t.length>0?e.jsx("div",{className:"space-y-3",children:t.sort((s,i)=>new Date(i.createdAt).getTime()-new Date(s.createdAt).getTime()).slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-700/50 rounded-lg p-2 transition-colors",onClick:()=>_(s),children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-white hover:text-blue-400 transition-colors",onClick:i=>{i.stopPropagation(),I(s.seriesName)},children:[s.seriesName," #",s.issueNumber]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Added ",new Date(s.createdAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-white",children:s.purchasePrice.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0})}),s.currentValue&&e.jsxs("p",{className:`text-xs ${s.currentValue>=s.purchasePrice?"text-emerald-400":"text-red-400"}`,children:["Now: ",s.currentValue.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}),s.purchasePrice>0&&` (${s.currentValue>=s.purchasePrice?"+":""}${((s.currentValue-s.purchasePrice)/s.purchasePrice*100).toFixed(1)}%)`]})]})]},s.id))}):e.jsx("p",{className:"text-gray-400",children:"No comics added yet"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Virtual Boxes"}),K.length>0?e.jsx("div",{className:"space-y-3",children:K.map(s=>({name:s,count:t.filter(i=>i.storageLocation===s).length,value:t.filter(i=>i.storageLocation===s).reduce((i,O)=>i+(O.currentValue||O.purchasePrice),0)})).sort((s,i)=>i.value-s.value).slice(0,8).map(s=>e.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-700/50 rounded-lg p-2 transition-colors",onClick:()=>se(s.name),children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:[s.count," comics"]})]}),e.jsx("p",{className:"font-semibold text-white",children:s.value.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2})})]},s.name))}):e.jsx("p",{className:"text-gray-400",children:"No virtual boxes specified"})]})]})]})]}),D&&e.jsx(u.Suspense,{fallback:e.jsx(E,{}),children:e.jsx(Be,{comic:m,onSave:he,onCancel:()=>{A(!1),g(void 0)},allSeries:q,allVirtualBoxes:K})})]})}Te.createRoot(document.getElementById("root")).render(e.jsx(v.StrictMode,{children:e.jsx(Ze,{})}));
