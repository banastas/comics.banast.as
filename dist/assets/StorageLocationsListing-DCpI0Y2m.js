import{j as e}from"./components-BfCtsOZO.js";import{r as g,i as u,M as i,A as p}from"./icons-BrV6DUKz.js";import"./react-vendor-DavUf6mE.js";const f=({allComics:c,onBack:x,onViewStorageLocation:d})=>{g.useEffect(()=>{window.scrollTo(0,0)},[]);const n=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(s),a=Array.from(new Set(c.map(s=>s.storageLocation).filter(Boolean))).map(s=>{const t=c.filter(r=>r.storageLocation===s),o=t.reduce((r,l)=>r+(l.currentValue||l.purchasePrice),0),m=t.filter(r=>r.isSlabbed).length,h=t.filter(r=>!r.isSlabbed).length;return{name:s,count:t.length,totalValue:o,slabbedCount:m,rawCount:h,averageGrade:t.length>0?t.reduce((r,l)=>r+l.grade,0)/t.length:0}}).sort((s,t)=>t.totalValue-s.totalValue);return e.jsxs("div",{className:"min-h-screen bg-gray-900",children:[e.jsx("div",{className:"bg-gray-800 shadow-lg border-b border-gray-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex items-center justify-between h-16",children:e.jsxs("button",{onClick:x,className:"flex items-center space-x-2 text-gray-300 hover:text-white transition-colors",children:[e.jsx(u,{size:20}),e.jsx("span",{children:"Back to Collection"})]})})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 p-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"p-3 bg-orange-500 rounded-lg",children:e.jsx(i,{size:24,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Virtual Boxes"}),e.jsxs("p",{className:"text-gray-300",children:[a.length," virtual box",a.length!==1?"es":""," in your collection"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:a.length}),e.jsx("p",{className:"text-sm text-gray-400",children:"Virtual Boxes"})]}),e.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:a.reduce((s,t)=>s+t.count,0)}),e.jsx("p",{className:"text-sm text-gray-400",children:"Total Comics"})]}),e.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:n(a.reduce((s,t)=>s+t.totalValue,0))}),e.jsx("p",{className:"text-sm text-gray-400",children:"Total Value"})]}),e.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:a.length>0?(a.reduce((s,t)=>s+t.averageGrade*t.count,0)/a.reduce((s,t)=>s+t.count,0)).toFixed(1):"0.0"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Avg Grade"})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"All Virtual Boxes"}),a.length>0?e.jsx("div",{className:"space-y-3",children:a.map(s=>e.jsx("div",{className:"bg-gray-700/50 rounded-lg border border-gray-600 p-4 hover:border-orange-500 transition-all cursor-pointer group",onClick:()=>d(s.name),children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4 min-w-0 flex-1",children:[e.jsx("div",{className:"p-3 bg-orange-500/20 rounded-lg border border-orange-500/30",children:e.jsx(i,{size:20,className:"text-orange-400"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"font-bold text-white text-lg group-hover:text-orange-400 transition-colors",children:s.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 text-sm text-gray-400 mt-1",children:[e.jsxs("span",{children:[s.count," comics"]}),e.jsx("span",{className:"hidden sm:inline",children:"•"}),e.jsxs("span",{children:["Avg Grade: ",s.averageGrade.toFixed(1)]}),s.slabbedCount>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"hidden sm:inline",children:"•"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(p,{size:12,className:"text-purple-400"}),e.jsxs("span",{children:[s.slabbedCount," slabbed"]})]})]}),s.rawCount>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"hidden sm:inline",children:"•"}),e.jsxs("span",{children:[s.rawCount," raw"]})]})]})]})]}),e.jsxs("div",{className:"text-left sm:text-right flex-shrink-0",children:[e.jsx("p",{className:"text-xl font-bold text-white",children:n(s.totalValue)}),e.jsxs("p",{className:"text-sm text-gray-400",children:[n(s.totalValue/s.count)," avg"]})]})]})},s.name))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(i,{size:48,className:"mx-auto text-gray-500 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No Virtual Boxes"}),e.jsx("p",{className:"text-gray-400",children:"Add virtual box information to your comics to see them organized here."})]})]})]})})]})};export{f as StorageLocationsListing};
