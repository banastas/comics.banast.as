const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ComicForm-BqNNNw2y.js","assets/components-DDKdaXoU.js","assets/icons-BH5OHx2U.js","assets/react-vendor-DavUf6mE.js","assets/ComicDetail-BB1jhpsn.js","assets/SeriesDetail-D0SdpshD.js","assets/StorageLocationDetail-C3noWrK1.js","assets/CoverArtistDetail-DdBSeMD6.js","assets/TagDetail-sss72tSn.js","assets/RawComicsDetail-DzU5Ep3i.js","assets/SlabbedComicsDetail-DodLScjE.js","assets/StorageLocationsListing-CwfFlM9N.js","assets/VariantsDetail-sfCoObcI.js","assets/CsvConverter-E0LsFD_2.js"])))=>i.map(i=>d[i]);
import{j as e,D as ue,C as ge,a as pe}from"./components-DDKdaXoU.js";import{r as w,C as fe,c as ve,R as x,B as re,d as je,F as ye,G as we,L as Ne,e as Ve,f as ke,g as De,h as _e}from"./icons-BH5OHx2U.js";import{a as Le}from"./react-vendor-DavUf6mE.js";import{u as Re}from"./utils-CT1BD98F.js";import"./data-hBCSNks3.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const N of c.addedNodes)N.tagName==="LINK"&&N.rel==="modulepreload"&&o(N)}).observe(document,{childList:!0,subtree:!0});function d(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=d(a);fetch(a.href,c)}})();var ee={},de;function Ce(){if(de)return ee;de=1;var r=Le();return ee.createRoot=r.createRoot,ee.hydrateRoot=r.hydrateRoot,ee}var Pe=Ce();const Te="modulepreload",Ee=function(r){return"/"+r},me={},A=function(n,d,o){let a=Promise.resolve();if(d&&d.length>0){let Q=function(V){return Promise.all(V.map(E=>Promise.resolve(E).then(U=>({status:"fulfilled",value:U}),U=>({status:"rejected",reason:U}))))};document.getElementsByTagName("link");const N=document.querySelector("meta[property=csp-nonce]"),R=N?.nonce||N?.getAttribute("nonce");a=Q(d.map(V=>{if(V=Ee(V),V in me)return;me[V]=!0;const E=V.endsWith(".css"),U=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${V}"]${U}`))return;const C=document.createElement("link");if(C.rel=E?"stylesheet":Te,E||(C.as="script"),C.crossOrigin="",C.href=V,R&&C.setAttribute("nonce",R),document.head.appendChild(C),E)return new Promise((B,b)=>{C.addEventListener("load",B),C.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${V}`)))})}))}function c(N){const R=new Event("vite:preloadError",{cancelable:!0});if(R.payload=N,window.dispatchEvent(R),!R.defaultPrevented)throw N}return a.then(N=>{for(const R of N||[])R.status==="rejected"&&c(R.reason);return n().catch(c)})},Ue=()=>{const r=window.location.hash.slice(1),[n,d]=r.split("?"),o={};if(d){const a=new URLSearchParams(d);a.has("tab")&&(o.tab=a.get("tab")),a.has("view")&&(o.viewMode=a.get("view")),a.has("search")&&(o.searchTerm=a.get("search")||void 0),a.has("sort")&&(o.sortField=a.get("sort")||void 0),a.has("order")&&(o.sortDirection=a.get("order"))}return{route:n||"/",params:o}},Fe=r=>{const n=r.split("/").filter(Boolean),d={};if(n.length===0)return{type:"home",params:d};const[o,...a]=n;switch(o){case"comic":a.length>0&&(d.comicId=decodeURIComponent(a[0]));break;case"series":a.length>0&&(d.seriesName=decodeURIComponent(a[0]));break;case"storage":a.length>0&&(d.storageLocation=decodeURIComponent(a[0]));break;case"artist":a.length>0&&(d.coverArtist=decodeURIComponent(a[0]));break;case"tag":a.length>0&&(d.tag=decodeURIComponent(a[0]));break;case"raw":d.condition="raw";break;case"slabbed":d.condition="slabbed";break;case"variants":d.condition="variants";break;case"boxes":break;case"csv":break;case"collection":case"stats":d.tab=o;break}return{type:o,params:d}},Ie=(r,n=!1)=>{n?window.history.replaceState(null,"",r):window.history.pushState(null,"",r),window.dispatchEvent(new CustomEvent("urlchange",{detail:{url:r}}))},ze=async r=>{try{return await navigator.clipboard.writeText(r),!0}catch(n){return console.error("Failed to copy URL to clipboard:",n),!1}},Ae=()=>window.location.href,Oe=({activeTab:r,selectedComic:n,selectedSeries:d,selectedStorageLocation:o,selectedCoverArtist:a,selectedTag:c,selectedCondition:N,showVirtualBoxes:R,showCsvConverter:Q,viewMode:V,searchTerm:E,sortField:U,sortDirection:C,setActiveTab:B,setSelectedComic:b,setSelectedSeries:v,setSelectedStorageLocation:t,setSelectedCoverArtist:p,setSelectedTag:f,setSelectedCondition:m,setShowVirtualBoxes:g,setShowCsvConverter:h,setViewMode:q,setFilters:_,setSortField:W,setSortDirection:L,allComics:G})=>{const P=w.useCallback((j,l,k,D=!1)=>{b(void 0),v(null),t(null),p(null),f(null),m(null),g(!1),h(!1);let u="";switch(j){case"home":u="/";break;case"collection":u="/collection";break;case"stats":u="/stats";break;case"comic":u=`/comic/${encodeURIComponent(l||"")}`;break;case"series":u=`/series/${encodeURIComponent(l||"")}`;break;case"storage":u=`/storage/${encodeURIComponent(l||"")}`;break;case"artist":u=`/artist/${encodeURIComponent(l||"")}`;break;case"tag":u=`/tag/${encodeURIComponent(l||"")}`;break;case"raw":u="/raw";break;case"slabbed":u="/slabbed";break;case"variants":u="/variants";break;case"boxes":u="/boxes";break;case"csv":u="/csv";break;default:u="/"}const I=new URLSearchParams;k?.tab&&I.set("tab",k.tab),k?.viewMode&&I.set("view",k.viewMode),k?.searchTerm&&I.set("search",k.searchTerm),k?.sortField&&I.set("sort",k.sortField),k?.sortDirection&&I.set("order",k.sortDirection);const K=I.toString(),Y=u+(K?`?${K}`:"");Ie(`#${Y}`,D)},[b,v,t,p,f,m,g,h]),F=w.useCallback(()=>{const{route:j,params:l}=Ue(),{type:k,params:D}=Fe(j);switch(l.tab&&l.tab!==r&&B(l.tab),l.viewMode&&l.viewMode!==V&&q(l.viewMode),l.searchTerm!==void 0&&l.searchTerm!==E&&_({searchTerm:l.searchTerm}),l.sortField&&l.sortField!==U&&W(l.sortField),l.sortDirection&&l.sortDirection!==C&&L(l.sortDirection),k){case"home":case"collection":b(void 0),v(null),t(null),p(null),f(null),m(null),g(!1),h(!1);break;case"stats":B("stats"),b(void 0),v(null),t(null),p(null),f(null),m(null),g(!1),h(!1);break;case"comic":if(D.comicId){const u=G.find(I=>I.id===D.comicId);u&&(b(u),v(null),t(null),p(null),f(null),m(null),g(!1),h(!1))}break;case"series":D.seriesName&&(v(D.seriesName),b(void 0),t(null),p(null),f(null),m(null),g(!1),h(!1));break;case"storage":D.storageLocation&&(t(D.storageLocation),b(void 0),v(null),p(null),f(null),m(null),g(!1),h(!1));break;case"artist":D.coverArtist&&(p(D.coverArtist),b(void 0),v(null),t(null),f(null),m(null),g(!1),h(!1));break;case"tag":D.tag&&(f(D.tag),b(void 0),v(null),t(null),p(null),m(null),g(!1),h(!1));break;case"raw":m("raw"),b(void 0),v(null),t(null),p(null),f(null),g(!1),h(!1);break;case"slabbed":m("slabbed"),b(void 0),v(null),t(null),p(null),f(null),g(!1),h(!1);break;case"variants":m("variants"),b(void 0),v(null),t(null),p(null),f(null),g(!1),h(!1);break;case"boxes":g(!0),b(void 0),v(null),t(null),p(null),f(null),m(null),h(!1);break;case"csv":h(!0),b(void 0),v(null),t(null),p(null),f(null),m(null),g(!1);break}},[r,V,E,U,C,G,B,q,_,W,L,b,v,t,p,f,m,g,h]);return w.useEffect(()=>{F();const j=()=>{F()},l=()=>{F()};return window.addEventListener("popstate",j),window.addEventListener("urlchange",l),()=>{window.removeEventListener("popstate",j),window.removeEventListener("urlchange",l)}},[F]),{navigateToRoute:P}},$e=({className:r="",title:n="Share URL",size:d=16})=>{const[o,a]=w.useState(!1),c=async()=>{const N=Ae();await ze(N)&&(a(!0),setTimeout(()=>a(!1),2e3))};return e.jsx("button",{onClick:c,className:`p-2 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg transition-colors ${r}`,title:n,children:o?e.jsx(fe,{size:d,className:"text-green-400"}):e.jsx(ve,{size:d})})},Be=x.lazy(()=>A(()=>import("./ComicForm-BqNNNw2y.js"),__vite__mapDeps([0,1,2,3])).then(r=>({default:r.ComicForm}))),Me=x.lazy(()=>A(()=>import("./ComicDetail-BB1jhpsn.js"),__vite__mapDeps([4,1,2,3])).then(r=>({default:r.ComicDetail}))),qe=x.lazy(()=>A(()=>import("./SeriesDetail-D0SdpshD.js"),__vite__mapDeps([5,1,2,3])).then(r=>({default:r.SeriesDetail}))),We=x.lazy(()=>A(()=>import("./StorageLocationDetail-C3noWrK1.js"),__vite__mapDeps([6,1,2,3])).then(r=>({default:r.StorageLocationDetail}))),Ge=x.lazy(()=>A(()=>import("./CoverArtistDetail-DdBSeMD6.js"),__vite__mapDeps([7,1,2,3])).then(r=>({default:r.CoverArtistDetail}))),Ke=x.lazy(()=>A(()=>import("./TagDetail-sss72tSn.js"),__vite__mapDeps([8,1,2,3])).then(r=>({default:r.TagDetail}))),Ye=x.lazy(()=>A(()=>import("./RawComicsDetail-DzU5Ep3i.js"),__vite__mapDeps([9,1,2,3])).then(r=>({default:r.RawComicsDetail}))),He=x.lazy(()=>A(()=>import("./SlabbedComicsDetail-DodLScjE.js"),__vite__mapDeps([10,1,2,3])).then(r=>({default:r.SlabbedComicsDetail}))),Je=x.lazy(()=>A(()=>import("./StorageLocationsListing-CwfFlM9N.js"),__vite__mapDeps([11,1,2,3])).then(r=>({default:r.StorageLocationsListing}))),Qe=x.lazy(()=>A(()=>import("./VariantsDetail-sfCoObcI.js"),__vite__mapDeps([12,1,2,3])).then(r=>({default:r.VariantsDetail}))),Xe=x.lazy(()=>A(()=>import("./CsvConverter-E0LsFD_2.js"),__vite__mapDeps([13,1,2,3])).then(r=>({default:r.CsvConverter}))),z=()=>e.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-blue-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-300",children:"Loading..."})]})});function Ze(){const{comics:r,allComics:n,stats:d,filters:o,sortField:a,sortDirection:c,loading:N,addComic:R,updateComic:Q,setFilters:V,setSortField:E,setSortDirection:U}=Re(),[C,B]=w.useState(!1),[b,v]=w.useState(void 0),[t,p]=w.useState("collection"),[f,m]=w.useState(void 0),[g,h]=w.useState(null),[q,_]=w.useState(null),[W,L]=w.useState(null),[G,P]=w.useState(null),[F,j]=w.useState(null),[l,k]=w.useState("grid"),[D,u]=w.useState(!1),[I,K]=w.useState(!1),Y=Array.from(new Set(n.map(s=>s.seriesName))).sort(),J=Array.from(new Set(n.map(s=>s.storageLocation).filter(Boolean))).sort(),te=n.filter(s=>s.isVariant).length,{navigateToRoute:y}=Oe({activeTab:t,selectedComic:f,selectedSeries:g,selectedStorageLocation:q,selectedCoverArtist:W,selectedTag:G,selectedCondition:F,showVirtualBoxes:D,showCsvConverter:I,viewMode:l,searchTerm:o.searchTerm,sortField:a,sortDirection:c,setActiveTab:p,setSelectedComic:m,setSelectedSeries:h,setSelectedStorageLocation:_,setSelectedCoverArtist:L,setSelectedTag:P,setSelectedCondition:j,setShowVirtualBoxes:u,setShowCsvConverter:K,setViewMode:k,setFilters:V,setSortField:E,setSortDirection:U,allComics:n}),he=s=>{b?Q(b.id,s):R(s),B(!1),v(void 0)},T=s=>{m(s),h(null),_(null),L(null),P(null),j(null),u(!1),y("comic",s.id,{tab:t})},O=()=>{m(void 0),h(null),_(null),L(null),P(null),j(null),u(!1),K(!1),y("collection",void 0,{tab:t,viewMode:l,searchTerm:o.searchTerm,sortField:a,sortDirection:c})},$=s=>{h(s),m(void 0),_(null),L(null),P(null),j(null),u(!1),y("series",s,{tab:t})},se=s=>{_(s),m(void 0),h(null),L(null),P(null),j(null),u(!1),y("storage",s,{tab:t})},xe=s=>{L(s),m(void 0),h(null),_(null),P(null),j(null),u(!1),y("artist",s,{tab:t})},ne=s=>{P(s),m(void 0),h(null),_(null),L(null),j(null),u(!1),y("tag",s,{tab:t})},X=()=>{j("raw"),m(void 0),h(null),_(null),L(null),P(null),u(!1),y("raw",void 0,{tab:t,viewMode:l,searchTerm:o.searchTerm,sortField:a,sortDirection:c})},Z=()=>{j("slabbed"),m(void 0),h(null),_(null),L(null),P(null),u(!1),y("slabbed",void 0,{tab:t,viewMode:l,searchTerm:o.searchTerm,sortField:a,sortDirection:c})},le=()=>{j("variants"),m(void 0),h(null),_(null),L(null),P(null),u(!1),y("variants",void 0,{tab:t,viewMode:l,searchTerm:o.searchTerm,sortField:a,sortDirection:c})},ie=()=>{u(!0),m(void 0),h(null),_(null),L(null),P(null),j(null),K(!1),y("boxes",void 0,{tab:t})};if(N)return e.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-blue-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-300",children:"Loading your collection..."})]})});if(I)return e.jsx(x.Suspense,{fallback:e.jsx(z,{}),children:e.jsx(Xe,{onBack:O})});if(D)return e.jsx(x.Suspense,{fallback:e.jsx(z,{}),children:e.jsx(Je,{allComics:n,onBack:O,onViewStorageLocation:se})});if(f)return e.jsx(x.Suspense,{fallback:e.jsx(z,{}),children:e.jsx(Me,{comic:f,allComics:n,onBack:O,onView:T,onViewSeries:$,onViewStorageLocation:se,onViewCoverArtist:xe,onViewTag:ne,onViewRawComics:X,onViewSlabbedComics:Z})});if(g){const s=n.filter(i=>i.seriesName===g);return e.jsx(x.Suspense,{fallback:e.jsx(z,{}),children:e.jsx(qe,{seriesName:g||"",seriesComics:s,onBack:O,onView:T})})}if(q){const s=n.filter(i=>i.storageLocation===q);return e.jsx(x.Suspense,{fallback:e.jsx(z,{}),children:e.jsx(We,{storageLocation:q||"",locationComics:s,onBack:O,onView:T,onViewSeries:$})})}if(W){const s=n.filter(i=>i.coverArtist===W);return e.jsx(x.Suspense,{fallback:e.jsx(z,{}),children:e.jsx(Ge,{coverArtist:W||"",artistComics:s,onBack:O,onView:T,onViewSeries:$})})}if(G){const s=n.filter(i=>i.tags.includes(G||""));return e.jsx(x.Suspense,{fallback:e.jsx(z,{}),children:e.jsx(Ke,{tag:G||"",tagComics:s,onBack:O,onView:T,onViewSeries:$,onViewTag:ne})})}if(F==="raw"){const s=n.filter(i=>!i.isSlabbed);return e.jsx(x.Suspense,{fallback:e.jsx(z,{}),children:e.jsx(Ye,{rawComics:s,onBack:O,onView:T,onViewSeries:$})})}if(F==="slabbed"){const s=n.filter(i=>i.isSlabbed);return e.jsx(x.Suspense,{fallback:e.jsx(z,{}),children:e.jsx(He,{slabbedComics:s,onBack:O,onView:T,onViewSeries:$})})}if(F==="variants"){const s=n.filter(i=>i.isVariant);return e.jsx(x.Suspense,{fallback:e.jsx(z,{}),children:e.jsx(Qe,{variantComics:s,onBack:O,onView:T,onViewRawComics:X,onViewSlabbedComics:Z,onViewSeries:$})})}return e.jsxs("div",{className:"min-h-screen bg-gray-900",children:[e.jsx("header",{className:"bg-gray-800 shadow-lg border-b border-gray-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 min-w-0 flex-1",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg shadow-lg",children:e.jsx(re,{size:24,className:"text-white"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h1",{className:"text-lg sm:text-xl font-bold text-white truncate",children:"comics.banast.as"}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-300",children:[d.totalComics," comics"]})]})]}),t==="collection"&&e.jsx("div",{className:"hidden sm:flex items-center space-x-2 sm:space-x-4 flex-1 max-w-2xl mx-4",children:e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(je,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search comics...",value:o.searchTerm,onChange:s=>{V({...o,searchTerm:s.target.value}),y(t==="stats"?"stats":"collection",void 0,{tab:t,viewMode:l,searchTerm:s.target.value,sortField:a,sortDirection:c})},className:"w-full pl-9 pr-3 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-white placeholder-gray-400 text-sm"})]})}),e.jsxs("div",{className:"hidden sm:flex items-center space-x-2 sm:space-x-4 flex-shrink-0",children:[e.jsx($e,{title:"Copy URL to clipboard"}),t==="collection"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>K(!0),className:"p-2 text-gray-300 hover:text-white hover:bg-gray-700 rounded-lg transition-colors",title:"CSV Converter",children:e.jsx(ye,{size:16})}),e.jsxs("div",{className:"flex items-center space-x-2 border border-gray-600 rounded-lg",children:[e.jsx("button",{onClick:()=>{k("grid"),y(t==="stats"?"stats":"collection",void 0,{tab:t,viewMode:"grid",searchTerm:o.searchTerm,sortField:a,sortDirection:c})},className:`p-2 rounded-l-lg transition-colors ${l==="grid"?"bg-blue-500 text-white":"text-gray-300 hover:text-white"}`,children:e.jsx(we,{size:16})}),e.jsx("button",{onClick:()=>{k("list"),y(t==="stats"?"stats":"collection",void 0,{tab:t,viewMode:"list",searchTerm:o.searchTerm,sortField:a,sortDirection:c})},className:`p-2 rounded-r-lg transition-colors ${l==="list"?"bg-blue-500 text-white":"text-gray-300 hover:text-white"}`,children:e.jsx(Ne,{size:16})})]}),e.jsxs("select",{value:a,onChange:s=>{E(s.target.value),y(t==="stats"?"stats":"collection",void 0,{tab:t,viewMode:l,searchTerm:o.searchTerm,sortField:s.target.value,sortDirection:c})},className:"bg-gray-700 border border-gray-600 rounded-lg px-2 sm:px-3 py-2 text-xs sm:text-sm text-white",children:[e.jsx("option",{value:"title",children:"Sort by Title"}),e.jsx("option",{value:"seriesName",children:"Sort by Series"}),e.jsx("option",{value:"issueNumber",children:"Sort by Issue #"}),e.jsx("option",{value:"releaseDate",children:"Sort by Release Date"}),e.jsx("option",{value:"grade",children:"Sort by Grade"}),e.jsx("option",{value:"purchasePrice",children:"Sort by Purchase Price"}),e.jsx("option",{value:"currentValue",children:"Sort by Current Value"}),e.jsx("option",{value:"purchaseDate",children:"Sort by Purchase Date"})]}),e.jsx("button",{onClick:()=>{const s=c==="asc"?"desc":"asc";U(s),y(t==="stats"?"stats":"collection",void 0,{tab:t,viewMode:l,searchTerm:o.searchTerm,sortField:a,sortDirection:s})},className:"p-1.5 sm:p-2 border border-gray-600 rounded-lg hover:bg-gray-700 transition-colors text-gray-300",children:c==="asc"?e.jsx(Ve,{size:14,className:"sm:w-4 sm:h-4"}):e.jsx(ke,{size:14,className:"sm:w-4 sm:h-4"})})]})]})]})})}),e.jsx("div",{className:"bg-gray-800 border-b border-gray-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8",children:e.jsxs("nav",{className:"flex space-x-4 sm:space-x-8 overflow-x-auto",children:[e.jsx("button",{onClick:()=>{p("collection"),y("collection",void 0,{tab:"collection",viewMode:l,searchTerm:o.searchTerm,sortField:a,sortDirection:c})},className:`py-4 px-1 border-b-2 font-medium text-sm ${t==="collection"?"border-blue-400 text-blue-400":"border-transparent text-gray-400 hover:text-gray-200 hover:border-gray-600"} transition-colors`,children:e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 whitespace-nowrap",children:[e.jsx(re,{size:16}),e.jsx("span",{children:"Collection"})]})}),e.jsx("button",{onClick:()=>{p("stats"),y("stats",void 0,{tab:"stats",viewMode:l,searchTerm:o.searchTerm,sortField:a,sortDirection:c})},className:`py-4 px-1 border-b-2 font-medium text-sm ${t==="stats"?"border-blue-400 text-blue-400":"border-transparent text-gray-400 hover:text-gray-200 hover:border-gray-600"} transition-colors`,children:e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 whitespace-nowrap",children:[e.jsx(De,{size:16}),e.jsx("span",{children:"Statistics"})]})})]})})}),e.jsxs("main",{className:"max-w-7xl mx-auto px-3 sm:px-4 md:px-6 lg:px-8 pb-4 sm:pb-6 lg:pb-8",children:[t==="collection"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"pt-4 sm:pt-6 lg:pt-8",children:e.jsx(ue,{stats:d,onViewComic:T,onViewRawComics:X,onViewSlabbedComics:Z,onViewVariants:le,onViewVirtualBoxes:ie,virtualBoxesCount:J.length,variantsCount:te})}),r.length===0?e.jsxs("div",{className:"text-center py-8 sm:py-12",children:[e.jsx(re,{size:48,className:"mx-auto text-gray-500 mb-4"}),e.jsx("h3",{className:"text-base sm:text-lg font-medium text-white mb-2",children:n.length===0?"No comics in your collection":"No comics match your filters"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-400 mb-4 sm:mb-6 px-4",children:n.length===0?"Start building your collection by adding your first comic!":"Try adjusting your search criteria or filters."}),n.length===0&&e.jsxs("button",{onClick:()=>B(!0),className:"flex items-center space-x-2 px-4 sm:px-6 py-2 sm:py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors mx-auto shadow-lg",children:[e.jsx(_e,{size:20}),e.jsx("span",{children:"Add Your First Comic"})]})]}):e.jsx(e.Fragment,{children:l==="grid"?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 sm:gap-4 lg:gap-6",children:r.map(s=>e.jsx(ge,{comic:s,onView:T},s.id))}):e.jsx(pe,{comics:r,onView:T})})]}),t==="stats"&&e.jsxs("div",{className:"space-y-8 pt-4 sm:pt-6 lg:pt-8",children:[e.jsx(ue,{stats:d,showDetailed:t==="stats",onViewComic:T,onViewRawComics:X,onViewSlabbedComics:Z,onViewVariants:le,onViewVirtualBoxes:ie,virtualBoxesCount:J.length,variantsCount:te,hideSlabbedCard:F==="slabbed",hideRawCard:F==="raw"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.comicsWithCurrentValue>0&&e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Series Performance"}),Y.length>0?e.jsx("div",{className:"space-y-3",children:Y.map(s=>{const i=n.filter(H=>H.seriesName===s),M=i.filter(H=>H.currentValue!==void 0),S=M.reduce((H,ae)=>H+(ae.purchasePrice||0),0),oe=M.reduce((H,ae)=>H+(ae.currentValue||0),0),ce=oe-S,be=S>0?ce/S*100:0;return{name:s,count:i.length,countWithValue:M.length,purchaseValue:S,currentValue:oe,gainLoss:ce,gainLossPercentage:be}}).filter(s=>s.countWithValue>0).sort((s,i)=>Math.abs(i.gainLossPercentage)-Math.abs(s.gainLossPercentage)).slice(0,8).map(s=>e.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-700/50 rounded-lg p-2 transition-colors",onClick:()=>$(s.name),children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:[s.countWithValue," of ",s.count," comics valued"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-white",children:(s.currentValue||0).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0})}),e.jsxs("p",{className:`text-sm font-medium ${s.gainLoss>=0?"text-emerald-400":"text-red-400"}`,children:[s.gainLoss>=0?"+":"",(s.gainLoss||0).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0})," (",(s.gainLossPercentage||0)>=0?"+":"",(s.gainLossPercentage||0).toFixed(1),"%)"]})]})]},s.name))}):e.jsx("p",{className:"text-gray-400",children:"No series performance data available"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top Series by Count"}),Y.length>0?e.jsx("div",{className:"space-y-3",children:Y.map(s=>({name:s,count:n.filter(i=>i.seriesName===s).length,value:n.filter(i=>i.seriesName===s).reduce((i,M)=>i+(M.purchasePrice||0),0)})).sort((s,i)=>i.count-s.count).slice(0,10).map(s=>e.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-700/50 rounded-lg p-2 transition-colors",onClick:()=>$(s.name),children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:[s.count," comics"]})]}),e.jsx("p",{className:"font-semibold text-white",children:(s.value||0).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0})})]},s.name))}):e.jsx("p",{className:"text-gray-400",children:"No series data available"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Additions"}),n.length>0?e.jsx("div",{className:"space-y-3",children:n.sort((s,i)=>new Date(i.createdAt).getTime()-new Date(s.createdAt).getTime()).slice(0,5).map(s=>e.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-700/50 rounded-lg p-2 transition-colors",onClick:()=>T(s),children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-white hover:text-blue-400 transition-colors",onClick:i=>{i.stopPropagation(),$(s.seriesName)},children:[s.seriesName," #",s.issueNumber]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Added ",new Date(s.createdAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-white",children:(s.purchasePrice||0).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0})}),s.currentValue&&e.jsxs("p",{className:`text-xs ${(s.currentValue||0)>=(s.purchasePrice||0)?"text-emerald-400":"text-red-400"}`,children:["Now: ",(s.currentValue||0).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}),(s.purchasePrice||0)>0&&` (${(s.currentValue||0)>=(s.purchasePrice||0)?"+":""}${(((s.currentValue||0)-(s.purchasePrice||0))/(s.purchasePrice||0)*100).toFixed(1)}%)`]})]})]},s.id))}):e.jsx("p",{className:"text-gray-400",children:"No comics added yet"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-lg border border-gray-700 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Virtual Boxes"}),J.length>0?e.jsx("div",{className:"space-y-3",children:J.map(s=>({name:s,count:n.filter(i=>i.storageLocation===s).length,value:n.filter(i=>i.storageLocation===s).reduce((i,M)=>i+(M.currentValue||M.purchasePrice||0),0)})).sort((s,i)=>i.value-s.value).slice(0,8).map(s=>e.jsxs("div",{className:"flex items-center justify-between cursor-pointer hover:bg-gray-700/50 rounded-lg p-2 transition-colors",onClick:()=>se(s.name),children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-400",children:[s.count," comics"]})]}),e.jsx("p",{className:"font-semibold text-white",children:(s.value||0).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2})})]},s.name))}):e.jsx("p",{className:"text-gray-400",children:"No virtual boxes specified"})]})]})]})]}),C&&e.jsx(x.Suspense,{fallback:e.jsx(z,{}),children:e.jsx(Be,{comic:b,onSave:he,onCancel:()=>{B(!1),v(void 0)},allSeries:Y,allVirtualBoxes:J})})]})}Pe.createRoot(document.getElementById("root")).render(e.jsx(w.StrictMode,{children:e.jsx(Ze,{})}));
